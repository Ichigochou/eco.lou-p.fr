const ln=function(){var e=new Error;if(!e.stack)try{throw e}catch(e){if(!e.stack){return 0}}var stack=e.stack.toString().split(/\r\n|\n/);var frameRE=/:(\d+):(?:\d+)[^\d]*$/;do{var frame=stack.shift()}while(!frameRE.exec(frame)&&stack.length)return frameRE.exec(stack.shift())[1]};const waitLoader=function(callback){return{step:0,addStep(n=1){this.step+=n},completeStep(n=1){this.step-=n;if(this.step<=0){callback()}},addStepClosure(_callback=console.log){var _this=this;this.addStep();return function(...args){_callback.apply(args);_this.completeStep()}}}};const ecoApi={get(request,data={},callback=ecoApi.log){this.log(ln());var url="/api/v1/get/"+request;$.post(url,data,function get_success(response){ecoApi.log(ln(),response);callback(response)},"json").fail(function get_fail(){ecoApi.warn(ln());callback(false)})},push(request,data,callback){this.log(ln());$.post("/api/v1/push/"+request,data,function(response){this.log(ln(),response);callback(response)},"json").fail(function(){this.warn(ln(),response);callback(false)})},requireJS(url,callback){var scriptTag=document.createElement("script");scriptTag.src=url;scriptTag.onload=callback;scriptTag.onreadystatechange=callback;document.body.appendChild(scriptTag)},safelyParseJSON(json){var parsed;try{parsed=JSON.parse(json)}catch(e){console.warn("JSON.parse(json) failed")}return typeof parsed=="undefined"?false:parsed},guid(){function s4(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()},log:function(...args){if(window.location.host.indexOf("dev-")!=-1){if(!isNaN(parseInt(args[0]))){args[0]="ecoApi.js : line "+args[0]+" | ecoApi."+this.log.caller.name+"()"}console.log.apply(console,args)}},info:function(...args){if(window.location.host.indexOf("dev-")!=-1){if(!isNaN(parseInt(args[0]))){args[0]="ecoApi.js : line "+args[0]+" | ecoApi."+this.info.caller.name+"()"}console.info.apply(console,args)}},warn:function(...args){if(window.location.host.indexOf("dev-")!=-1){if(!isNaN(parseInt(args[0]))){args[0]="ecoApi.js : line "+args[0]+" | ecoApi."+this.warn.caller.name+"()"}console.warn.apply(console,args)}}};